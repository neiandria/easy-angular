
<div class="p-6 bg-gray-50 min-h-screen">
  <!-- Título -->
  <h2 class="text-2xl font-bold text-blue-800 mb-6">Bem vindo, {{medico?.nome}}</h2>
  

  <!-- Cards de Informações -->
  <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
    <div class="bg-white p-4 rounded-xl shadow text-center">
      <p class="text-sm text-gray-500">Consultas Hoje</p>
      <p class="text-2xl font-bold text-blue-600">{{ consultasHoje.length }}</p>
    </div>
    <div class="bg-white p-4 rounded-xl shadow text-center">
      <p class="text-sm text-gray-500">Consultas Amanhã</p>
      <p class="text-2xl font-bold text-blue-600">{{ consultasAmanha.length }}</p>
    </div>
    <div class="bg-white p-4 rounded-xl shadow text-center">
      <p class="text-sm text-gray-500">Consultas Semana</p>
      <p class="text-2xl font-bold text-blue-600">{{ consultasSemana.length }}</p>
    </div>
    <div class="bg-white p-4 rounded-xl shadow text-center">
      <p class="text-sm text-gray-500">Total de Pacientes</p>
      <p class="text-2xl font-bold text-blue-600">{{ totalPacientes }}</p>
    </div>
  </div>
  <div class="flex justify-end mb-4">
  <button
    class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg shadow-md transition"
    [routerLink]="['/medico', medicoId, 'agenda']">
    Ver Agenda
  </button>
</div>

  <!-- Consulta mais próxima -->
  <div class="bg-white rounded-xl p-6 shadow mb-6">
    <h3 class="text-lg font-semibold text-gray-700 mb-4">Consulta mais próxima</h3>
    <div *ngIf="consultaMaisProxima; else semConsulta" class="text-sm text-gray-700">
      <p><strong>Paciente:</strong> {{ consultaMaisProxima.paciente.nome }}</p>
      <p><strong>Data:</strong> {{ consultaMaisProxima.consulta.data_consulta | date: 'dd/MM/yyyy' }}</p>
      <p><strong>Status:</strong> {{ consultaMaisProxima.consulta.status }}</p>
    </div>
    <ng-template #semConsulta>
      <p class="text-gray-500">Nenhuma consulta agendada.</p>
    </ng-template>
  </div>

  <!-- Lista de Consultas -->
  <div class="bg-white rounded-xl p-6 shadow">
    <h3 class="text-lg font-semibold text-gray-700 mb-4">Minhas Consultas</h3>
    <div class="overflow-auto">
      <table class="w-full text-sm text-left">
        <thead>
          <tr class="text-gray-500 border-b">
            <th class="py-2">Paciente</th>
            <th>Data</th>
            <th>Status</th>
            <th class="text-right">Ações</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of minhasConsultas" class="border-b">
            <td class="py-2">{{ item.paciente.nome }}</td>
            <td>{{ item.consulta.data_consulta | date: 'short' }}</td>
            <td>{{ item.consulta.status }}</td>
            <td class="text-right space-x-2">
  <button class="text-green-600 hover:underline" (click)="abrirConfirmacao(item.consulta)">Confirmar</button>
  <button class="text-yellow-600 hover:underline" (click)="reagendar(item.consulta)">Reagendar</button>
  <button class="text-red-600 hover:underline" (click)="cancelar(item.consulta)">Cancelar</button>
</td>

          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <!-- Caixa de confirmação -->
<div *ngIf="consultaParaConfirmar" class="fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center z-50">
  <div class="bg-white p-6 rounded-xl shadow-xl w-full max-w-md text-center">
    <h3 class="text-lg font-semibold mb-4">Confirmar consulta</h3>
    <p class="text-gray-700 mb-6">
      Deseja confirmar a realização da consulta com <strong>{{ consultaParaConfirmar.paciente.nome }}</strong>?
    </p>
    <div class="flex justify-center space-x-4">
      <button (click)="confirmarConsulta()" class="bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg">Confirmar</button>
      <button (click)="fecharConfirmacao()" class="bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-4 rounded-lg">Cancelar</button>
    </div>
  </div>
</div>

</div>
